{
  "openapi": "3.0.3",
  "info": {
    "title": "API DeGusto",
    "description": "APIs para el sistema de DeGusto",
    "contact": {
      "url": "https://www.linkedin.com/in/guillermo-yeltsin-baltodano-león-86938413b/"
    },
    "version": "1.0"
  },
  "externalDocs": {
    "description": "Más sobre Swagger",
    "url": "http://swagger.io"
  },
  "servers": [{ "url": "http://localhost:3000/api/" },{"url": "http://localhost:3000/"}],
  "tags": [
    {
        "name": "User",
        "description": "Modulo de Usuario"
      },
    {
      "name": "BusinessArea",
      "description": "Area/Tipo/Rubro de Negocio"
    },
    {
      "name": "Business",
      "description": "Modulo de Negocio"
    },
    {
      "name": "Owner",
      "description": "Modulo de Propietarios"
    },
    {
      "name": "Customer",
      "description": "Modulo de Clientes"
    },
    {
      "name": "Image",
      "description": "Modulo de Imágenes"
    }
  ],
  "paths": {
    "/user/login":{
      "get": {
        "tags": [
          "User"
        ],
        "summary": "Credenciales para iniciar sesión",
        "description": "",
        "operationId": "loginUser",
        "parameters": [
          {
            "name": "userName",
            "in": "query",
            "description": "Usuario",
            "required": true,
            "schema": {
              "type": "string",
              "example":"prueba"
            }
          },
          {
            "name": "userPassword",
            "in": "query",
            "description": "Contraseña",
            "required": true,
            "schema": {
              "type": "string",
              "example":"123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "content": {
              "application/json": {
                "schema": {
                    "$ref": "#/components/schemas/User"
                }
              }
            }
          },
          "400": {
            "description": "Negocio no encontrado",
            "content": {
                "application/json":{
                    "schema":{
                        "type": "object",
                        "properties": {
                            "message":{
                                "type": "string",
                                "example":"Usuario o contraseña incorrectos"
                            }
                        }
                    }
                }
            }
          }
        }
      }
    },
    "/businessareas": {
        "get": {
            "tags": [
                "BusinessArea"
            ],
            "summary": "Lista de las areas/tipos/rubros de negocios",
            "description": "Lista de las areas/tipos/rubros de negocios",
            "operationId": "getBusinessArea",
            "parameters": [],
            "responses": {
                "200": {
                    "description": "successful operation",
                    "content": {
                        "application/json":{
                            "schema":{
                                "type": "array",
                                "items":{
                                    "$ref":"#/components/schemas/BusinessArea"
                                }
                            }
                        }
                    }
                },
                "404": {
                    "description": "No implementado"
                }
            }
        }
    },
    "/business":{
        "get":{
            "tags": [
                "Business"
            ],
            "summary": "Lista de todos los negocios",
            "description": "Lista de todos los negocios",
            "operationId": "getBusiness",
            "responses": {
                "200":{
                    "description": "successful operation",
                    "content": {
                        "application/json":{
                            "schema":{
                                "type": "array",
                                "items":{
                                    "$ref": "#/components/schemas/Business"
                                }
                            }
                        }
                    }
                }
            }
        },
        "post":{
            "tags": ["Business"],
            "summary": "Crear Negocio",
            "description": "Registrar un negocio",
            "operationId": "createBusiness",
            "requestBody": {
                "content": {
                    "multipart/form-data": {
                        "schema": {
                            "$ref": "#/components/schemas/BusinessTwo"
                        }
                    }
                },
                "required": true
            },
            "responses": {
                "201": {
                    "description": "successful operation",
                    "content": {
                    "application/json": {
                        "schema": {
                        "$ref": "#/components/schemas/Business"
                        }
                    }
                    }
                },
                "400": {
                    "description": "Invalid input"
                },
                "422": {
                    "description": "Validation exception"
                }
            }
        }
    },
    "/business/{id}":{
        "get":{
            "tags": [
                "Business"
            ],
            "summary": "Obtener un negocio",
            "description": "Obtener los detalles de un negocio",
            "operationId": "getBusinessById",
            "parameters": [
                {
                    "name": "id",
                    "in": "path",
                    "description": "ID del negocio a buscar",
                    "required": true,
                    "schema": {
                      "type": "integer",
                      "format": "int64"
                    }
                }
            ],
            "responses": {
                "200":{
                    "description": "successful operation",
                    "content": {
                        "application/json":{
                            "schema":{
                                "$ref": "#/components/schemas/Business"
                            }
                        }
                    }
                },
                "404": {
                    "description": "Negocio no encontrado"
                }
            }
        },
        "delete":{
            "tags": [
                "Business"
            ],
            "summary": "Eliminar un negocio",
            "description": "Enviar el ID del negocio para eliminarlo",
            "operationId": "deleteBusinessById",
            "parameters": [
                {
                    "name": "id",
                    "in": "path",
                    "description": "ID del negocio a buscar",
                    "required": true,
                    "schema": {
                      "type": "integer",
                      "format": "int64"
                    }
                }
            ],"responses": {
                "200":{
                    "description": "successful operation",
                    "content": {
                        "application/json":{
                            "schema":{
                                "type": "boolean"
                            }
                        }
                    }
                },
                "404": {
                    "description": "Negocio no encontrado"
                }
            }
        },
        "put":{
            "tags": ["Business"],
            "summary": "Actualizar Negocio",
            "description": "Modificar un negocio",
            "operationId": "updateBusiness",
            "parameters": [
                {
                    "name": "id",
                    "in": "path",
                    "description": "ID del negocio a buscar",
                    "required": true,
                    "schema": {
                      "type": "integer",
                      "format": "int64"
                    }
                }
            ],"requestBody": {
                "content": {
                    "multipart/form-data": {
                        "schema": {
                            "$ref": "#/components/schemas/BusinessTwo"
                        }
                    }
                },
                "required": true
            },
            "responses": {
                "200": {
                    "description": "successful operation",
                    "content": {
                    "application/json": {
                        "schema": {
                        "$ref": "#/components/schemas/Business"
                        }
                    }
                    }
                },
                "400": {
                    "description": "Invalid input"
                },
                "422": {
                    "description": "Validation exception"
                }
            }
        }
    },
    "/owners": {
        "get":{
            "tags": [ "Owner" ],
            "summary": "Lista de los propietarios de negocios",
            "description": "Lista de los propietarios de negocios",
            "operationId": "getOwner",
            "parameters": [],
            "responses": {
                "200": {
                    "description": "successful operation",
                    "content": {
                        "application/json":{
                            "schema":{
                                "type": "array",
                                "items":{
                                    "$ref":"#/components/schemas/Owner"
                                }
                            }
                        }
                    }
                },
                "404": {
                    "description": "No implementado"
                }
            }
        },
        "post":{
            "tags": ["Owner"],
            "summary": "Crear cuenta del Propietario",
            "description": "Registrar al propietario",
            "operationId": "createOwner",
            "requestBody": {
                "content": {
                    "application/json": {
                        "schema": {
                            "$ref": "#/components/schemas/Account"
                        }
                    }
                },
                "required": true
            },
            "responses": {
                "201": {
                    "description": "successful operation",
                    "content": {
                    "application/json": {
                        "schema": {
                        "$ref": "#/components/schemas/Owner"
                        }
                    }
                    }
                },
                "400": {
                    "description": "Invalid input"
                },
                "422": {
                    "description": "Validation exception"
                }
            }
        }
    },
    "/owners/{id}":{
        "get":{
            "tags": [ "Owner" ],
            "summary": "Propietario de negocios",
            "description": "Datos del propietario de negocios por Id",
            "operationId": "getOwnerById",
            "parameters": [
                {
                    "name": "id",
                    "in": "path",
                    "description": "ID del propietario a buscar",
                    "required": true,
                    "schema": {
                      "type": "integer",
                      "format": "int64"
                    }
                }
            ],
            "responses": {
                "200":{
                    "description": "successful operation",
                    "content": {
                        "application/json":{
                            "schema":{
                                "$ref": "#/components/schemas/Owner"
                            }
                        }
                    }
                },
                "404": {
                    "description": "Propietario no encontrado"
                }
            }
        },
        "delete":{
            "tags": [ "Owner" ],
            "summary": "Eliminar un propietario",
            "description": "Enviar el ID del propietario para eliminarlo",
            "operationId": "deleteOwnerById",
            "parameters": [
                {
                    "name": "id",
                    "in": "path",
                    "description": "ID del propietario a buscar",
                    "required": true,
                    "schema": {
                      "type": "integer",
                      "format": "int64"
                    }
                }
            ],"responses": {
                "200":{
                    "description": "successful operation",
                    "content": {
                        "application/json":{
                            "schema":{
                                "type": "boolean"
                            }
                        }
                    }
                },
                "404": {
                    "description": "Negocio no encontrado"
                }
            }
        }
    },
    "/customers": {
        "get":{
            "tags": [ "Customer" ],
            "summary": "Lista de los clientes",
            "description": "Lista de los clientes",
            "operationId": "getCustomer",
            "parameters": [],
            "responses": {
                "200": {
                    "description": "successful operation",
                    "content": {
                        "application/json":{
                            "schema":{
                                "type": "array",
                                "items":{
                                    "$ref":"#/components/schemas/Customer"
                                }
                            }
                        }
                    }
                },
                "404": {
                    "description": "No implementado"
                }
            }
        },
        "post":{
            "tags": ["Customer"],
            "summary": "Crear cuenta del Cliente",
            "description": "Registrar al Cliente",
            "operationId": "createCustomer",
            "requestBody": {
                "content": {
                    "application/json": {
                        "schema": {
                            "$ref": "#/components/schemas/Account"
                        }
                    }
                },
                "required": true
            },
            "responses": {
                "201": {
                    "description": "successful operation",
                    "content": {
                    "application/json": {
                        "schema": {
                        "$ref": "#/components/schemas/Customer"
                        }
                    }
                    }
                },
                "400": {
                    "description": "Invalid input"
                },
                "422": {
                    "description": "Validation exception"
                }
            }
        }
    },
    "/customers/{id}":{
        "get":{
            "tags": [ "Customer" ],
            "summary": "Cuenta del Cliente",
            "description": "Datos del cliente por Id",
            "operationId": "getCustomerById",
            "parameters": [
                {
                    "name": "id",
                    "in": "path",
                    "description": "ID del cliente a buscar",
                    "required": true,
                    "schema": {
                      "type": "integer",
                      "format": "int64"
                    }
                }
            ],
            "responses": {
                "200":{
                    "description": "successful operation",
                    "content": {
                        "application/json":{
                            "schema":{
                                "$ref": "#/components/schemas/Customer"
                            }
                        }
                    }
                },
                "404": {
                    "description": "Cliente no encontrado"
                }
            }
        },
        "delete":{
            "tags": [ "Customer" ],
            "summary": "Eliminar un cliente",
            "description": "Enviar el ID del cliente para eliminarlo",
            "operationId": "deleteCustomerById",
            "parameters": [
                {
                    "name": "id",
                    "in": "path",
                    "description": "ID del cliente a buscar",
                    "required": true,
                    "schema": {
                      "type": "integer",
                      "format": "int64"
                    }
                }
            ],"responses": {
                "200":{
                    "description": "successful operation",
                    "content": {
                        "application/json":{
                            "schema":{
                                "type": "boolean"
                            }
                        }
                    }
                },
                "404": {
                    "description": "Cliente no encontrado"
                }
            }
        }
    },
    "/images/{root}/{name}/{type}/{image}":{
        "get":{
            "tags": [
                "Image"
            ],
            "summary": "Mostrar imagen",
            "description": "Agrega la ruta completa de la imagen a visualizar",
            "operationId": "getImagen",
            "parameters": [
                {
                    "name": "root",
                    "in": "path",
                    "description": "Ruta inicial",
                    "required": true,
                    "schema": {
                      "type": "string"
                    }
                },
                {
                    "name": "name",
                    "in": "path",
                    "description": "Nombre del Negocio",
                    "required": true,
                    "schema": {
                      "type": "string"
                    }
                },
                {
                    "name": "type",
                    "in": "path",
                    "description": "Tipo de imagen",
                    "required": true,
                    "schema": {
                      "type": "string"
                    }
                },
                {
                    "name": "image",
                    "in": "path",
                    "description": "Nombre de la imagen",
                    "required": true,
                    "schema": {
                      "type": "string"
                    }
                }
            ],
            "responses": {
                "200":{
                    "description": "successful operation",
                    "content": {
                        "imagen/*":{
                            "schema":{
                                "type": "string",
                                "format": "binary",
                                "example":"Va a cargar la imagen"
                            }
                        }
                    }
                }
            }
        }
    },
    "/images/upload":{
        "post":{
            "tags": ["Image"],
            "summary": "Guardar Imagen",
            "description": "Es para hacer pruebas de guardar image",
            "operationId": "saveImage",
            "requestBody": {
                "content": {
                    "multipart/form-data": {
                        "schema": {
                            "type": "object",
                            "properties": {
                                "businessName":{
                                    "type": "string",
                                    "example":"La Buena Mesa"
                                },
                                "businessAddress":{
                                    "type": "string",
                                    "example":"123 Gourmet Street"
                                },
                                "businessPhoneNumber":{
                                    "type": "string",
                                    "example":"123456789"
                                },
                                "file": {
                                    "type": "string",
                                    "format": "binary",
                                    "description": "La imagen a subir"
                                }
                            },
                            "required": ["file", "businessName", "businessAddress","businessPhoneNumber"]
                        }
                    }
                },
                "required": true
            },
            "responses": {
                "201": {
                    "description": "successful operation",
                    "content": {
                    "application/json": {
                        "schema": {
                        "$ref": "#/components/schemas/Business"
                        }
                    }
                    }
                },
                "400": {
                    "description": "Invalid input"
                },
                "422": {
                    "description": "Validation exception"
                }
            }
        }
    }
  },
  "components": {
    "schemas": {
        "User":{
            "type": "object",
            "properties": {
                "userName":{
                    "type": "string",
                    "example":"prueba"
                },
                "userTypeId":{
                    "type": "integer",
                    "example":0
                },
                "userType":{
                    "type": "integer",
                    "example":0
                }
            }
        },
        "BusinessArea":{
            "type": "object",
            "properties": {
                "businessAreaId":{
                    "type": "integer",
                    "format": "int64",
                    "example":0
                },
                "businessAreaName":{
                    "type": "string",
                    "example":"Restaurante"
                }
            }
        },
        "Business":{
            "type": "object",
            "properties": {
                "businessId":{
                    "type": "integer",
                    "format": "int64",
                    "example":0
                },
                "businessName":{
                    "type": "string",
                    "example":"La Buena Mesa"
                },
                "businessAddress":{
                    "type": "string",
                    "example":"123 Gourmet Street"
                },
                "businessPhoneNumber":{
                    "type": "string",
                    "example":"123456789"
                },
                "businessStatus":{
                    "type": "integer",
                    "format": "int64",
                    "example":1
                },
                "businessLogo":{
                    "type": "string",
                    "example":"restaurant_logo.png"
                },
                "businessLatitude":{
                    "type": "integer",
                    "format": "int64",
                    "example": 40.712776
                },
                "businessLongitude":{
                    "type": "integer",
                    "format": "int64",
                    "example": -74.005974
                },
                "business_AreaId": {
                    "type": "integer",
                    "format": "int64",
                    "example": 1
                },
                "business_OwnerId": {
                    "type": "integer",
                    "format": "int64",
                    "example": 1
                }
            }
        },
        "Owner":{
            "type": "object",
            "properties": {
                "ownerId":{
                    "type": "integer",
                    "format": "int64",
                    "example":0
                },
                "ownerName":{
                    "type": "string",
                    "example":"Alice Johnson"
                },
                "ownerEmail":{
                    "type": "string",
                    "example":"alicej@example.com"
                },
                "ownerPhoneNumber":{
                    "type": "string",
                    "example":"123456789"
                },
                "userName":{
                    "type": "string",
                    "example":"alice_johnson"
                },
                "userCreatedAt":{
                    "type": "string",
                    "example":"01/09/2024"
                }
            }
        },
        "Account":{
            "type": "object",
            "properties": {
                "name":{
                    "type": "string",
                    "example":"Alice Johnson"
                },
                "email":{
                    "type": "string",
                    "example":"alicej@example.com"
                },
                "phoneNumber":{
                    "type": "string",
                    "example":"123456789"
                },
                "userName":{
                    "type": "string",
                    "example":"alice_johnson"
                },
                "password":{
                    "type": "string",
                    "example":"123"
                },
                "createDate":{
                    "type": "string",
                    "example":"01/09/2024"
                }
            }
        },
        "Customer":{
            "type": "object",
            "properties": {
                "customerId":{
                    "type": "integer",
                    "format": "int64",
                    "example":0
                },
                "customerName":{
                    "type": "string",
                    "example":"Alice Johnson"
                },
                "customerEmail":{
                    "type": "string",
                    "example":"alicej@example.com"
                },
                "customerPhoneNumber":{
                    "type": "string",
                    "example":"123456789"
                },
                "userName":{
                    "type": "string",
                    "example":"alice_johnson"
                },
                "userCreatedAt":{
                    "type": "string",
                    "example":"01/09/2024"
                }
            }
        },
        "BusinessTwo":{
            "type": "object",
            "properties": {
                "businessName":{
                    "type": "string",
                    "example":"La Buena Mesa"
                },
                "businessAddress":{
                    "type": "string",
                    "example":"123 Gourmet Street"
                },
                "businessPhoneNumber":{
                    "type": "string",
                    "example":"123456789"
                },
                "businessStatus":{
                    "type": "integer",
                    "format": "int64",
                    "example":1
                },
                "businessLogo":{
                    "type": "string",
                    "example":"restaurant_logo.png"
                },
                "businessLatitude":{
                    "type": "integer",
                    "format": "int64",
                    "example": 40.712776
                },
                "businessLongitude":{
                    "type": "integer",
                    "format": "int64",
                    "example": -74.005974
                },
                "business_AreaId": {
                    "type": "integer",
                    "format": "int64",
                    "example": 1
                },
                "business_OwnerId": {
                    "type": "integer",
                    "format": "int64",
                    "example": 1
                },
                "file": {
                    "type": "string",
                    "format": "binary",
                    "description": "La imagen a subir"
                }
            },
            "required": ["file", "businessName", "businessAddress","businessPhoneNumber",
        "businessStatus","businessLatitude","businessLongitude","business_AreaId","business_OwnerId"]
        }
    }
  }
}
